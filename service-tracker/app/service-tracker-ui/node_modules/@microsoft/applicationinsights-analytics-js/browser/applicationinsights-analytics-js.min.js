/*!
 * Application Insights JavaScript SDK - Web Analytics, 2.6.2
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var e=this,t=function(e){"use strict";var r="function",C="object",s="undefined",i="prototype",a="hasOwnProperty",n=Object,o=n[i],l=n.create,t=n.defineProperty,u=o[a];function c(){return typeof globalThis!==s&&globalThis?globalThis:typeof self!==s&&self?self:typeof window!==s&&window?window:typeof global!==s&&global?global:null}function f(e){throw new TypeError(e)}(c()||{}).Symbol,(c()||{}).Reflect;var g=n.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])o[a].call(t,i)&&(e[i]=t[i]);return e},d=function(e,t){return(d=n.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[a](n)&&(e[n]=t[n])})(e,t)};function p(e,t){function n(){this.constructor=e}typeof t!==r&&null!==t&&f("Class extends value "+t+" is not a constructor or null"),d(e,t),e[i]=null===t?function(e){if(l)return l(e);if(null==e)return{};var t=typeof e;function n(){}return t!==C&&t!==r&&f("Object prototype may only be an Object:"+e),n[i]=e,new n}(t):(n[i]=t[i],new n)}var N,m="constructor",h="prototype",v="function",y="_dynInstFuncs",T="_isDynProxy",I="_dynClass",w="_dynCls$",S="_dynInstChk",P=S,x="_dfOpts",E="_unknown_",k="__proto__",b="useBaseInst",A="setInstFuncs",M=Object,D=M.getPrototypeOf,L=0;function _(e,t){return e&&M[h].hasOwnProperty.call(e,t)}function R(e){return e&&(e===M[h]||e===Array[h])}function V(e){return R(e)||e===Function[h]}function z(e){if(e){if(D)return D(e);if(e=e[k]||e[h]||(e[m]?e[m][h]:null))return e}return null}function F(e,t){var n=[],r=M.getOwnPropertyNames;if(r)n=r(e);else for(var i in e)"string"==typeof i&&_(e,i)&&n.push(i);if(n&&0<n.length)for(var a=0;a<n.length;a++)t(n[a])}function G(e,t,n){return t!==m&&typeof e[t]===v&&(n||_(e,t))}function O(e){throw new TypeError("DynamicProto: "+e)}function U(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function B(e,t){return _(e,h)?e.name||t||E:((e||{})[m]||{}).name||t||E}function q(e,r,t,n){_(e,h)||O("theClass is an invalid class definition.");var i=e[h];!function(e){if(D)for(var t=[],n=z(r);n&&!V(n)&&!U(t,n);){if(n===e)return 1;t.push(n),n=z(n)}}(i)&&O("["+B(e)+"] is not in class hierarchy of ["+B(r)+"]");var a=null;_(i,I)?a=i[I]:(a=w+B(e,"_")+"$"+L,L++,i[I]=a);var o,s,l,u,c,f,g=q[x],d=!!g[b];d&&n&&n[b]!==undefined&&(d=!!n[b]),t(r,function(e,t,n,a){function r(e,t,n){var r,i=t[n];return i[T]&&a&&!1!==(r=e[y]||{})[P]&&(i=(r[t[I]]||{})[n]||i),function(){return i.apply(e,arguments)}}var i={};F(n,function(e){i[e]=r(t,n,e)});for(var o=z(e),s=[];o&&!V(o)&&!U(s,o);)F(o,function(e){!i[e]&&G(o,e,!D)&&(i[e]=r(t,o,e))}),s.push(o),o=z(o);return i}(i,r,(s={},F(o=r,function(e){!s[e]&&G(o,e,!1)&&(s[e]=o[e])}),e=s),d)),l=i,a=a,u=r,c=e,n=!1!==(g=(g=!!D&&!!g[A])&&n?!!n[A]:g),R(l)||(g=u[y]=u[y]||{},f=g[a]=g[a]||{},!1!==g[P]&&(g[P]=!!n),F(u,function(e){var n,r,i;G(u,e,!1)&&u[e]!==c[e]&&(f[e]=u[e],delete u[e],_(l,e)&&(!l[e]||l[e][T])||(l[e]=(n=l,r=e,(i=function(){var e,t;return(function(e,t,n,r){var i=null;if(e&&_(n,I)){var a=e[y]||{};if((i=(a[n[I]]||{})[t])||O("Missing ["+t+"] "+v),!i[S]&&!1!==a[P]){for(var o=!_(e,t),s=z(e),l=[];o&&s&&!V(s)&&!U(l,s);){var u=s[t];if(u){o=u===r;break}l.push(s),s=z(s)}try{o&&(e[t]=i),i[S]=1}catch(c){a[P]=!1}}}return i}(this,r,n,i)||(typeof(t=(t=n[e=r])===i?z(n)[e]:t)!==v&&O("["+e+"] is not a "+v),t)).apply(this,arguments)})[T]=1,i)))}))}q[x]={setInstFuncs:!0,useBaseInst:!0},(Wt=N=N||{})[Wt.CRITICAL=1]="CRITICAL",Wt[Wt.WARNING=2]="WARNING";var W={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103},H=t;function X(e){return o.toString.call(e)}function j(e){return e===undefined||typeof e===s}function K(e){return null===e||j(e)}function J(e){return!K(e)}function $(e){return typeof e===r}function Y(e,t){if(e)for(var n in e)u.call(e,n)&&t.call(e,n,e[n])}function Z(e,t){return!(!e||!t||!~e.indexOf(t))}function Q(e){return"[object Array]"===X(e)}function ee(e){return"[object Error]"===X(e)}function te(e){return"string"==typeof e}function ne(e,t,n){for(var r=e.length,i=0;i<r&&!(i in e&&-1===t.call(n||e,e[i],i,e));i++);}function re(e,t,n){for(var r=e.length,i=n||e,a=Array(r),o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e));return a}function ie(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}function ae(){var e=Date;return e.now?e.now():(new e).getTime()}function oe(e){return ee(e)?e.name:""}function se(e,t,n,r,i){var a=n;return e&&((a=e[t])===n||i&&!i(a)||r&&!r(n)||(e[t]=a=n)),a}function le(e){return!!e}({toString:null}).propertyIsEnumerable("toString");var ue="window",ce="document",fe="navigator",ge="history",de="location",pe="JSON",me="crypto",he="msCrypto",ve="msie",ye="trident/",Te=null,Ie=null,we=!1;function Se(e){var t=c();return t&&t[e]?t[e]:e===ue&&Ce()?window:null}function Ce(){return typeof window===C&&window}function Ne(){return typeof document===C&&document?document:Se(ce)}function Pe(){return typeof navigator===C&&navigator?navigator:Se(fe)}function xe(e){return e&&we&&(e=Se("__mockLocation"))?e:typeof location===C&&location?location:Se(de)}function Ee(){return Se("performance")}function ke(){return typeof JSON===C&&JSON||null!==Se(pe)}function be(){return ke()?JSON||Se(pe):null}function Ae(){var e=Pe();return!e||e.userAgent===Ie&&null!==Te||(e=((Ie=e.userAgent)||"").toLowerCase(),Te=Z(e,ve)||Z(e,ye)),Te}function Me(e){var t=Object[i].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":ke()&&(n=be().stringify(e)),t+n}function De(e){return e?'"'+e.replace(/\"/g,"")+'"':""}var Le=(_e.dataType="MessageData",_e);function _e(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e,e="",ke()&&(e=be().stringify(r)),e=(t?" message:"+De(t):"")+(r?" props:"+De(e):""),this.message+=e}var Re=function Un(n){this.identifier="DiagnosticLogger",this.queue=[];var i=0,o={};q(Un,this,function(a){function e(e,t){return K(e=n[e])?t:e}K(n)&&(n={}),a.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},a.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},a.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},a.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},a.throwInternal=function(e,t,n,r,i){if(n=new Le(t,n,i=void 0!==i&&i,r),a.enableDebugExceptions())throw n;j(n)||!n||j(n.message)||(r=a.consoleLoggingLevel(),i?(i=+n.messageId,!o[i]&&r>=N.WARNING&&(a.warnToConsole(n.message),o[i]=!0)):r>=N.WARNING&&a.warnToConsole(n.message),a.logInternalMessage(e,n))},a.warnToConsole=function(e){var t,n=typeof console!==s?console:Se("console");n&&(t="log",$(n[t=n.warn?"warn":t])&&n[t](e))},a.resetInternalMessageCount=function(){i=0,o={}},a.logInternalMessage=function(e,t){var n,r;i>=a.maxInternalMessageLimit()||(n=!0,r="AITR_"+t.messageId,o[r]?n=!1:o[r]=!0,n&&(e<=a.telemetryLoggingLevel()&&(a.queue.push(t),i++),i===a.maxInternalMessageLimit()&&(t=new Le(W.MessageLimitPerPVExceeded,e="Internal events throttle limit per PageView reached for this app.",!1),a.queue.push(t),a.warnToConsole(e))))}})},Ve="ctx",ze=(Fe.ParentContextKey="parent",Fe.ChildrenContextKey="childEvts",Fe);function Fe(e,i,t){var r,a=this,o=!1;a.start=ae(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},$(i)&&(o=function(e){if(H)try{var t={enumerable:!0,configurable:!0,get:function(){return!r&&$(i)&&(r=i(),i=null),r}};return H(e,"payload",t),!0}catch(n){}return!1}(a)),a.getCtx=function(e){return e?(e===Fe.ParentContextKey||e===Fe.ChildrenContextKey?a:a[Ve]||{})[e]:null},a.setCtx=function(e,t){e&&(e===Fe.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===Fe.ChildrenContextKey?a[e]=t:(a[Ve]=a[Ve]||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(Fe.ChildrenContextKey);if(Q(t))for(var n=0;n<t.length;n++){var r=t[n];r&&(e+=r.time)}a.time=ae()-a.start,a.exTime=a.time-e,a.complete=function(){},!o&&$(i)&&(a.payload=i())}}var Ge="CoreUtils.doPerf";function Oe(e,t,n,r,i){if(e){var a=e;if(a=a&&$(a.getPerfMgr)?a.getPerfMgr():a){var o,s=void 0,e=a.getCtx(Ge);try{if(s=a.create(t(),r,i))return e&&s.setCtx&&(s.setCtx(ze.ParentContextKey,e),e.getCtx&&e.setCtx&&((o=e.getCtx(ze.ChildrenContextKey))||(o=[],e.setCtx(ze.ChildrenContextKey,o)),o.push(s))),a.setCtx(Ge,s),n(s)}catch(l){s&&s.setCtx&&s.setCtx("exception",l)}finally{s&&a.fire(s),a.setCtx(Ge,e)}}}return n()}var Ue=function(i,t){var a=this,o=null,s=$(i.processTelemetry),l=$(i.setNextPlugin);a._hasRun=!1,a.getPlugin=function(){return i},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processTelemetry=function(n,r){var e=i?i.identifier:"TelemetryPluginChain";Oe((r=r||t)?r.core():null,function(){return e+":processTelemetry"},function(){if(i&&s){a._hasRun=!0;try{r.setNext(o),l&&i.setNextPlugin(o),o&&(o._hasRun=!1),i.processTelemetry(n,r)}catch(t){var e=o&&o._hasRun;o&&e||r.diagLog().throwInternal(N.CRITICAL,W.PluginException,"Plugin ["+i.identifier+"] failed during processTelemetry - "+t),o&&!e&&o.processTelemetry(n,r)}}else o&&(a._hasRun=!0,o.processTelemetry(n,r))},function(){return{item:n}},!n.sync)}};function Be(e,t){var n=[];if(e&&0<e.length)for(var r=null,i=0;i<e.length;i++){var a=e[i];a&&$(a.processTelemetry)&&(a=new Ue(a,t),n.push(a),r&&r.setNext(a),r=a)}return 0<n.length?n[0]:null}var qe=function Bn(e,i,n,t){var r,a,o,s,l=this,u=null;null!==t&&(e&&$(e.getPlugin)?u=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();!i&&a!==n||(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),Be(r,t)}(e,l,t||e.getPlugin()):t?(r=l,o=e,s=!1,(a=t)&&e&&(o=[],ne(e,function(e){!s&&e!==a||(s=!0,o.push(e))})),a&&!s&&(o=o||[]).push(a),u=Be(o,r)):j(t)&&(u=Be(e,l))),l.core=function(){return n},l.diagLog=function(){return(n||{}).logger||new Re(i)},l.getCfg=function(){return i},l.getExtCfg=function(e,t){var n,r;return void 0===t&&(t={}),!i||(r=i.extensionConfig)&&e&&(n=r[e]),n||t},l.getConfig=function(e,t,n){var r;return void 0===n&&(n=!1),(e=l.getExtCfg(e,null))&&!K(e[t])?r=e[t]:i&&!K(i[t])&&(r=i[t]),K(r)?n:r},l.hasNext=function(){return null!=u},l.getNext=function(){return u},l.setNext=function(e){u=e},l.processNext=function(e){var t=u;t&&(u=t.getNext(),t.processTelemetry(e,l))},l.createNew=function(e,t){return new Bn((e=void 0===e?null:e)||u,i,n,t)}},We="getPlugin",He=(Xe.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},Xe);function Xe(){var a=this,o=!1,s=null,l=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){l=e},a.processNext=function(e,t){t?t.processNext(e):l&&$(l.processTelemetry)&&l.processTelemetry(e,null)},a._getTelCtx=function(e){var t=e=void 0===e?null:e;return t||(e=s||new qe(null,{},a.core),t=l&&l[We]?e.createNew(null,l[We]):e.createNew(null,l)),t},a._baseTelInit=function(e,t,n,r){e&&se(e,"extensionConfig",[],null,K),!r&&t&&(r=t.getProcessTelContext().getNext());var i=l;l&&l[We]&&(i=l[We]()),a.core=t,s=new qe(r,e,t,i),o=!0}}var je="toGMTString",Ke="toUTCString",Je="cookie",$e="expires",Ye="enabled",Ze="isCookieUseDisabled",Qe="disableCookiesUsage",et="_ckMgr",tt="",nt=null,rt=null,it=null,at=Ne(),ot={},st={};function lt(e){return!e||e.isEnabled()}function ut(e,r){var t,n,l=(se(n=(t=e||st).cookieCfg=t.cookieCfg||{},"domain",t.cookieDomain,J,K),se(n,"path",t.cookiePath||"/",null,K),K(n[Ye])&&(e=void 0,j(t[Ze])||(e=!t[Ze]),j(t[Qe])||(e=!t[Qe]),n[Ye]=e),n),u=l.path||"/",c=l.domain,i=!1!==l[Ye],f={isEnabled:function(){var e=i&&ct(r),t=st[et];return e&&t&&f!==t?lt(t):e},setEnabled:function(e){i=!1!==e},set:function(e,t,n,r,i){var a,o,s;lt(f)&&(a={},-1!=(s=(o=ie(t||tt)).indexOf(";"))&&(o=ie(t.substring(0,s)),a=ft(t.substring(1+s))),se(a,"domain",r||c,le,j),K(n)||(t=Ae(),!j(a[$e])||0<(s=ae()+1e3*n)&&((r=new Date).setTime(s),se(a,$e,gt(r,t?je:Ke)||gt(r,t?je:Ke)||tt,le)),t||se(a,"max-age",tt+n,null,j)),(n=xe())&&"https:"===n.protocol&&(se(a,"secure",null,null,j),(rt=null===rt?!(te(n=(Pe()||{}).userAgent)&&(Z(n,"CPU iPhone OS 12")||Z(n,"iPad; CPU OS 12")||Z(n,"Macintosh; Intel Mac OS X 10_14")&&Z(n,"Version/")&&Z(n,"Safari")||Z(n,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){if(e){var n=e.length;if(e===t)return 1;if(40<=n){for(var r=n-1,i=39;0<=i;i--){if(e[r]!=t[i])return;r--}return 1}}}(n,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Z(n,"Chrome/5")||Z(n,"Chrome/6")||Z(n,"UnrealEngine")&&!Z(n,"Chrome")||Z(n,"UCBrowser/12")||Z(n,"UCBrowser/11"))):rt)&&se(a,"SameSite","None",null,j)),se(a,"path",i||u,null,j),(l.setCookie||pt)(e,dt(o,a)))},get:function(e){var t=tt;return lt(f)?(l.getCookie||function(e){var t,n=tt;return at&&(t=at[Je]||tt,it!==t&&(ot=ft(t),it=t),n=ie(ot[e]||tt)),n})(e):t},del:function(e,t){lt(f)&&f.purge(e,t)},purge:function(e,t){var n;ct(r)&&((n={}).path=t||"/",n[$e]="Thu, 01 Jan 1970 00:00:01 GMT",Ae()||(n["max-age"]="0"),(l.delCookie||pt)(e,dt(tt,n)))}};return f[et]=f}function ct(e){if(null===nt){nt=!1;try{nt=(at||{})[Je]!==undefined}catch(t){e&&e.throwInternal(N.WARNING,W.CannotAccessCookie,"Cannot access document.cookie - "+oe(t),{exception:Me(t)})}}return nt}function ft(e){var n={};return e&&e.length&&ne(ie(e).split(";"),function(e){var t;(e=ie(e||tt))&&(-1==(t=e.indexOf("="))?n[e]=null:n[ie(e.substring(0,t))]=ie(e.substring(1+t)))}),n}function gt(e,t){return $(e[t])?e[t]():null}function dt(e,t){var n=e||tt;return Y(t,function(e,t){n+="; "+e+(K(t)?tt:"="+t)}),n}function pt(e,t){at&&(at[Je]=e+"="+t)}var mt=4294967296,ht=4294967295,vt=!1,yt=123456789,Tt=987654321;function It(e){var t,n=(n=Se(me)||Se(he))&&n.getRandomValues?n.getRandomValues(new Uint32Array(1))[0]&ht:Ae()?(vt||function(){try{var e=2147483647&ae();(t=(Math.random()*mt^e)+e)<0&&(t>>>=0),yt=123456789+t&ht,Tt=987654321-t&ht,vt=!0}catch(n){}var t}(),t=((Tt=36969*(65535&Tt)+(Tt>>16)&ht)<<16)+(65535&(yt=18e3*(65535&yt)+(yt>>16)&ht))>>>0&ht|0,(t>>>=0)&ht):Math.floor(mt*Math.random()|0);return e||(n>>>=0),n}var wt=(St.sanitizeKeyAndAddUniqueness=function(e,t,n){var r=t.length,i=St.sanitizeKey(e,t);if(i.length!==r){for(var a=0,o=i;n[o]!==undefined;)a++,o=i.substring(0,St.MAX_NAME_LENGTH-3)+St.padNumber(a);i=o}return i},St.sanitizeKey=function(e,t){var n;return t&&(t=St.trim(t.toString())).length>St.MAX_NAME_LENGTH&&(n=t.substring(0,St.MAX_NAME_LENGTH),e.throwInternal(N.WARNING,W.NameTooLong,"name is too long.  It has been truncated to "+St.MAX_NAME_LENGTH+" characters.",{name:t},!0)),n||t},St.sanitizeString=function(e,t,n){var r;return void 0===n&&(n=St.MAX_STRING_LENGTH),t&&(n=n||St.MAX_STRING_LENGTH,(t=St.trim(t)).toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(N.WARNING,W.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t},St.sanitizeUrl=function(e,t){return St.sanitizeInput(e,t,St.MAX_URL_LENGTH,W.UrlTooLong)},St.sanitizeMessage=function(e,t){var n;return t&&t.length>St.MAX_MESSAGE_LENGTH&&(n=t.substring(0,St.MAX_MESSAGE_LENGTH),e.throwInternal(N.WARNING,W.MessageTruncated,"message is too long, it has been truncated to "+St.MAX_MESSAGE_LENGTH+" characters.",{message:t},!0)),n||t},St.sanitizeException=function(e,t){var n;return t&&t.length>St.MAX_EXCEPTION_LENGTH&&(n=t.substring(0,St.MAX_EXCEPTION_LENGTH),e.throwInternal(N.WARNING,W.ExceptionTruncated,"exception is too long, it has been truncated to "+St.MAX_EXCEPTION_LENGTH+" characters.",{exception:t},!0)),n||t},St.sanitizeProperties=function(r,e){var i;return e&&(i={},Y(e,function(e,t){if(typeof t===C&&ke())try{t=be().stringify(t)}catch(n){r.throwInternal(N.WARNING,W.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:n},!0)}t=St.sanitizeString(r,t,St.MAX_PROPERTY_LENGTH),e=St.sanitizeKeyAndAddUniqueness(r,e,i),i[e]=t}),e=i),e},St.sanitizeMeasurements=function(n,e){var r;return e&&(r={},Y(e,function(e,t){e=St.sanitizeKeyAndAddUniqueness(n,e,r),r[e]=t}),e=r),e},St.sanitizeId=function(e,t){return t&&St.sanitizeInput(e,t,St.MAX_ID_LENGTH,W.IdTooLong).toString()},St.sanitizeInput=function(e,t,n,r){var i;return t&&(t=St.trim(t)).length>n&&(i=t.substring(0,n),e.throwInternal(N.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t},St.padNumber=function(e){return(e="00"+e).substr(e.length-3)},St.trim=function(e){return te(e)?e.replace(/^\s+|\s+$/g,""):e},St.MAX_NAME_LENGTH=150,St.MAX_ID_LENGTH=128,St.MAX_PROPERTY_LENGTH=8192,St.MAX_STRING_LENGTH=1024,St.MAX_URL_LENGTH=2048,St.MAX_MESSAGE_LENGTH=32768,St.MAX_EXCEPTION_LENGTH=32768,St);function St(){}function Ct(e){var t,n=null;return $(Event)?n=new Event(e):(t=Ne())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}function Nt(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"==e.toString().toLowerCase()}function Pt(e){var t=""+(e=Math.round(e=isNaN(e)||e<0?0:e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r;return(0<(e=Math.floor(e/864e5))?e+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n+"."+t}var xt,Et,kt="not_specified";(un=xt=xt||{})[un.LocalStorage=0]="LocalStorage",un[un.SessionStorage=1]="SessionStorage",(Wt=Et=Et||{})[Wt.Default=0]="Default",Wt[Wt.Required=1]="Required",Wt[Wt.Array=2]="Array",Wt[Wt.Hidden=4]="Hidden",(t={})[t.AI=0]="AI",t[t.AI_AND_W3C=1]="AI_AND_W3C",t[t.W3C=2]="W3C";var bt=undefined;function At(e){try{if(K(c()))return null;var t=new Date,n=Se(e===xt.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(i){}return null}function Mt(){return Dt()?At(xt.SessionStorage):null}function Dt(){return bt=bt===undefined?!!At(xt.SessionStorage):bt}function Lt(e,t){var n=Mt();if(null!==n)try{return n.getItem(t)}catch(r){bt=!1,e.throwInternal(N.WARNING,W.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+oe(r),{exception:Me(r)})}return null}function _t(e,t,n){var r=Mt();if(null!==r)try{return r.setItem(t,n),1}catch(i){bt=!1,e.throwInternal(N.WARNING,W.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+oe(i),{exception:Me(i)})}}function Rt(e,t){var n=Mt();if(null!==n)try{return n.removeItem(t),1}catch(r){bt=!1,e.throwInternal(N.WARNING,W.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+oe(r),{exception:Me(r)})}}var Vt=Ne()||{},zt=0,Ft=[null,null,null,null,null];function Gt(e,t){return 0===e||0===t||K(e)||K(t)?null:t-e}var Ot,Ut=(p(Bt,Ot=un=function(){this.ver=2,this.properties={},this.measurements={}}),Bt.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Bt.dataType="EventData",Bt);function Bt(e,t,n,r){var i=Ot.call(this)||this;return i.aiDataContract={ver:Et.Required,name:Et.Required,properties:Et.Default,measurements:Et.Default},i.name=wt.sanitizeString(e,t)||kt,i.properties=wt.sanitizeProperties(e,n),i.measurements=wt.sanitizeMeasurements(e,r),i}var qt,Wt=function(){},t=function(){this.hasFullStack=!0,this.parsedStack=[]},Ht="error",Xt=(p(jt,qt=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}),jt.CreateFromInterface=function(t,e,n,r){var i=e.exceptions&&re(e.exceptions,function(e){return Jt.CreateFromInterface(t,e)});return new jt(t,g({},e,{exceptions:i}),n,r)},jt.prototype.toInterface=function(){var e=this.exceptions,t=this.properties,n=this.measurements,r=this.severityLevel;this.ver;var i=this.problemGroup,a=this.id,o=this.isManual;return{ver:"4.0",exceptions:e instanceof Array&&re(e,function(e){return e.toInterface()})||undefined,severityLevel:r,properties:t,measurements:n,problemGroup:i,id:a,isManual:o}},jt.CreateSimpleException=function(e,t,n,r,i,a){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},jt.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",jt.dataType="ExceptionData",jt);function jt(e,t,n,r,i,a){var o,s=qt.call(this)||this;return s.aiDataContract={ver:Et.Required,exceptions:Et.Required,severityLevel:Et.Default,properties:Et.Default,measurements:Et.Default},"ver"in(o=t)&&"exceptions"in o&&"properties"in o?(s.exceptions=t.exceptions,s.properties=t.properties,s.measurements=t.measurements,t.severityLevel&&(s.severityLevel=t.severityLevel),t.id&&(s.id=t.id),t.problemGroup&&(s.problemGroup=t.problemGroup),s.ver=2,K(t.isManual)||(s.isManual=t.isManual)):(s.exceptions=[new Jt(e,t)],s.properties=wt.sanitizeProperties(e,n)||{},s.measurements=wt.sanitizeMeasurements(e,r),i&&(s.severityLevel=i),a&&(s.id=a)),s}var Kt,Jt=(p($t,Kt=t),$t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&re(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||undefined}},$t.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&re(t.parsedStack,function(e){return Zt.CreateFromInterface(e)})||t.parsedStack;return new $t(e,g({},t,{parsedStack:n}))},$t.parseStack=function(e){if(te(e)){for(var t=e.split("\n"),n=[],r=0,i=0,a=0;a<=t.length;a++){var o=t[a];Zt.regex.test(o)&&(i+=(o=new Zt(t[a],r++)).sizeInBytes,n.push(o))}if(32768<i)for(var s=0,l=n.length-1,u=0,c=s,f=l;s<l;){if(32768<(u+=n[s].sizeInBytes+n[l].sizeInBytes)){n.splice(c,f-c+1);break}c=s,f=l,s++,l--}}return n},$t);function $t(e,t){var n,r=Kt.call(this)||this;return r.aiDataContract={id:Et.Default,outerId:Et.Default,typeName:Et.Required,message:Et.Required,hasFullStack:Et.Default,stack:Et.Default,parsedStack:Et.Array},"hasFullStack"in(n=t)&&"typeName"in n?(r.typeName=t.typeName,r.message=t.message,r.stack=t.stack,r.parsedStack=t.parsedStack,r.hasFullStack=t.hasFullStack):(ee(n=t)||(n=n[Ht]||n.evt||n),r.typeName=wt.sanitizeString(e,function(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(r){}return t}(n))||kt,r.message=wt.sanitizeMessage(e,t.message)||kt,t=t.stack,r.parsedStack=$t.parseStack(t),r.stack=wt.sanitizeException(e,t),r.hasFullStack=Q(r.parsedStack)&&0<r.parsedStack.length),r}var Yt,Zt=(p(Qt,Yt=Wt),Qt.CreateFromInterface=function(e){return new Qt(e,null)},Qt.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},Qt.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,Qt.baseSize=58,Qt);function Qt(e,t){var n,r=Yt.call(this)||this;return r.sizeInBytes=0,r.aiDataContract={level:Et.Required,method:Et.Required,assembly:Et.Default,fileName:Et.Default,line:Et.Default},"string"==typeof e?(n=e,r.level=t,r.method="<no_method>",r.assembly=ie(n),r.fileName="",r.line=0,(n=n.match(Qt.regex))&&5<=n.length&&(r.method=ie(n[2])||r.method,r.fileName=ie(n[4]),r.line=parseInt(n[5])||0)):(r.level=e.level,r.method=e.method,r.assembly=e.assembly,r.fileName=e.fileName,r.line=e.line,r.sizeInBytes=0),r.sizeInBytes+=r.method.length,r.sizeInBytes+=r.fileName.length,r.sizeInBytes+=r.assembly.length,r.sizeInBytes+=Qt.baseSize,r.sizeInBytes+=r.level.toString().length,r.sizeInBytes+=r.line.toString().length,r}var en,t=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}};(Wt=en={})[Wt.Measurement=0]="Measurement",Wt[Wt.Aggregation=1]="Aggregation";var tn,nn=(p(rn,tn=function(){this.kind=en.Measurement}),rn);function rn(){var e=null!==tn&&tn.apply(this,arguments)||this;return e.aiDataContract={name:Et.Required,kind:Et.Default,value:Et.Required,count:Et.Default,min:Et.Default,max:Et.Default,stdDev:Et.Default},e}var an,on=(p(sn,an=t),sn.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",sn.dataType="MetricData",sn);function sn(e,t,n,r,i,a,o,s){var l=an.call(this)||this;l.aiDataContract={ver:Et.Required,metrics:Et.Required,properties:Et.Default};var u=new nn;return u.count=0<r?r:undefined,u.max=isNaN(a)||null===a?undefined:a,u.min=isNaN(i)||null===i?undefined:i,u.name=wt.sanitizeString(e,t)||kt,u.value=n,l.metrics=[u],l.properties=wt.sanitizeProperties(e,o),l.measurements=wt.sanitizeMeasurements(e,s),l}var ln,un=(p(cn,ln=un),cn);function cn(){var e=ln.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var fn,gn=(p(dn,fn=un),dn.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",dn.dataType="PageviewData",dn);function dn(e,t,n,r,i,a,o){var s=fn.call(this)||this;return s.aiDataContract={ver:Et.Required,name:Et.Default,url:Et.Default,duration:Et.Default,properties:Et.Default,measurements:Et.Default,id:Et.Default},s.id=wt.sanitizeId(e,o),s.url=wt.sanitizeUrl(e,n),s.name=wt.sanitizeString(e,t)||kt,isNaN(r)||(s.duration=Pt(r)),s.properties=wt.sanitizeProperties(e,i),s.measurements=wt.sanitizeMeasurements(e,a),s}var pn,mn=(p(hn,pn=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}),hn.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",hn.dataType="RemoteDependencyData",hn);function hn(e,t,n,r,i,a,o,s,l,u,c,f){void 0===l&&(l="Ajax");var g=pn.call(this)||this;g.aiDataContract={id:Et.Required,ver:Et.Required,name:Et.Default,resultCode:Et.Default,duration:Et.Default,success:Et.Default,data:Et.Default,target:Et.Default,type:Et.Default,properties:Et.Default,measurements:Et.Default,kind:Et.Default,value:Et.Default,count:Et.Default,min:Et.Default,max:Et.Default,stdDev:Et.Default,dependencyKind:Et.Default,dependencySource:Et.Default,commandName:Et.Default,dependencyTypeName:Et.Default},g.id=t,g.duration=Pt(i),g.success=a,g.resultCode=o+"",g.type=wt.sanitizeString(e,l);var d,p,m,h,v,y,T,I,w,S,o=(d=e,t=s,o=a=i=r,a=(l=n)&&0<l.length?(p=l,S=(w=Ft)[I=zt],Vt.createElement?w[I]||(S=w[I]=Vt.createElement("a")):S={host:(y=!0,T=null,!(v=m=p)||null!=(v=v.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<v.length&&te(v[2])&&0<v[2].length&&(T=v[2]||"",y&&2<v.length&&(y=(v[1]||"").toLowerCase(),v=v[3]||"",T+=v="http"==y&&":80"===v||"https"==y&&":443"===v?"":v)),(m=T)&&null!=(h=m.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i))&&3<h.length&&te(h[2])&&0<h[2].length?h[2]+(h[3]||""):m)},S.href=p,++I>=w.length&&(I=0),zt=I,S=(s=S).host,a||(null!=s.pathname?("/"!=((n=0===s.pathname.length?"/":s.pathname)[0]||"")&&(n="/"+n),o=s.pathname,wt.sanitizeString(d,t?t+" "+n:n)):wt.sanitizeString(d,l))):S=i,{target:S,name:a,data:o});return g.data=wt.sanitizeUrl(e,r)||o.data,g.target=wt.sanitizeString(e,o.target),u&&(g.target=g.target+" | "+u),g.name=wt.sanitizeString(e,o.name),g.properties=wt.sanitizeProperties(e,c),g.measurements=wt.sanitizeMeasurements(e,f),g}var vn,yn=(p(Tn,vn=function(){this.ver=2,this.properties={},this.measurements={}}),Tn.envelopeType="Microsoft.ApplicationInsights.{0}.Message",Tn.dataType="MessageData",Tn);function Tn(e,t,n,r,i){var a=vn.call(this)||this;return a.aiDataContract={ver:Et.Required,message:Et.Required,severityLevel:Et.Default,properties:Et.Default},a.message=wt.sanitizeMessage(e,t=t||kt),a.properties=wt.sanitizeProperties(e,r),a.measurements=wt.sanitizeMeasurements(e,i),n&&(a.severityLevel=n),a}var In,un=(p(wn,In=un),wn);function wn(){var e=In.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var Sn,Cn,Nn=(p(Pn,Sn=un),Pn.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Pn.dataType="PageviewPerformanceData",Pn);function Pn(e,t,n,r,i,a,o){var s=Sn.call(this)||this;return s.aiDataContract={ver:Et.Required,name:Et.Default,url:Et.Default,duration:Et.Default,perfTotal:Et.Default,networkConnect:Et.Default,sentRequest:Et.Default,receivedResponse:Et.Default,domProcessing:Et.Default,properties:Et.Default,measurements:Et.Default},s.url=wt.sanitizeUrl(e,n),s.name=wt.sanitizeString(e,t)||kt,s.properties=wt.sanitizeProperties(e,i),s.measurements=wt.sanitizeMeasurements(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}(un=Cn=Cn||{})[un.Verbose=0]="Verbose",un[un.Information=1]="Information",un[un.Warning=2]="Warning",un[un.Error=3]="Error",un[un.Critical=4]="Critical";var xn=(En.create=function(e,t,n,r,i,a){if(n=wt.sanitizeString(r,n)||kt,K(e)||K(t)||K(n))throw Error("Input doesn't contain all required fields");var o={name:n,time:function(e){if("[object Date]"===X(e)){var t=function(e){return 1===(e=""+e).length?"0"+e:e};return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(""+(e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(new Date),iKey:"",ext:a||{},tags:[],data:{},baseType:t,baseData:e};return K(i)||Y(i,function(e,t){o.data[e]=t}),o},En);function En(){}var kn="AppInsightsPropertiesPlugin",bn="ApplicationInsightsAnalytics",An=function qn(p,m,t,h){q(qn,this,function(e){var c,n=null,f=[],g=!1;function d(){t&&ne(t.getTransmissionControls(),function(e){ne(e,function(e){return e.flush(!0)})})}t&&(c=t.logger),e.trackPageView=function(r,i){var a=r.name;!K(a)&&"string"==typeof a||(e=Ne(),a=r.name=e&&e.title||"");var e,o=r.uri;if(!K(o)&&"string"==typeof o||(e=xe(),o=r.uri=e&&e.href||""),!h.isPerformanceTimingSupported())return p.sendPageViewInternal(r,i),d(),void c.throwInternal(N.WARNING,W.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var s,t,l=!1,u=h.getPerformanceTiming().navigationStart;0<u&&(s=Gt(u,+new Date),h.shouldCollectDuration(s)||(s=undefined)),K(i)||K(i.duration)||(t=i.duration),!m&&isNaN(t)||(isNaN(t)&&((i=i||{}).duration=s),p.sendPageViewInternal(r,i),d(),l=!0),i=i||{},f.push(t=function(){var e,t=!1;try{h.isPerformanceTimingDataReady()?(t=!0,e={name:a,uri:o},h.populatePageViewPerformanceEvent(e),e.isValid||l?(l||(i.duration=e.durationMs,p.sendPageViewInternal(r,i)),g||(p.sendPageViewPerformanceInternal(e,i),g=!0)):(i.duration=s,p.sendPageViewInternal(r,i))):0<u&&6e4<Gt(u,+new Date)&&(t=!0,l||(i.duration=6e4,p.sendPageViewInternal(r,i)))}catch(n){c.throwInternal(N.CRITICAL,W.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+oe(n),{exception:Me(n)})}return t}),n=n||setInterval(function(){var e=f.slice(0),t=!1;f=[],ne(e,function(e){e()?t=!0:f.push(e)}),0===f.length&&(clearInterval(n),n=null),t&&d()},100)}})},Mn=(Dn.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(r){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+Me(r))}},Dn.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(r){return this._logger.warnToConsole("Call to restart failed: "+Me(r)),null}},Dn.prototype.startPageVisitTimer=function(e,t){try{var n,r;Dt()&&(null!=Lt(this._logger,this.prevPageVisitDataKeyName)&&function(){throw Error("Cannot call startPageVisit consecutively without first calling stopPageVisit")}(),n=new Ln(e,t),r=be().stringify(n),_t(this._logger,this.prevPageVisitDataKeyName,r))}catch(i){this._logger.warnToConsole("Call to start failed: "+Me(i))}},Dn.prototype.stopPageVisitTimer=function(){try{if(Dt()){var e=ae(),t=Lt(this._logger,this.prevPageVisitDataKeyName);if(t&&ke()){var n=be().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,Rt(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(r){return this._logger.warnToConsole("Stop page visit timer failed: "+Me(r)),null}},Dn);function Dn(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var Ln=function(e,t){this.pageVisitStartTime=ae(),this.pageName=e,this.pageUrl=t},_n=(Rn.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,a=0,o=0;(t||n)&&(n=t?(r=t.duration,i=0===t.startTime?t.connectEnd:Gt(t.startTime,t.connectEnd),a=Gt(t.requestStart,t.responseStart),o=Gt(t.responseStart,t.responseEnd),Gt(t.responseEnd,t.loadEventEnd)):(r=Gt(n.navigationStart,n.loadEventEnd),i=Gt(n.navigationStart,n.connectEnd),a=Gt(n.requestStart,n.responseStart),o=Gt(n.responseStart,n.responseEnd),Gt(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(N.WARNING,W.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:a,response:o,dom:n}):this.shouldCollectDuration(r,i,a,o,n)?r<Math.floor(i)+Math.floor(a)+Math.floor(o)+Math.floor(n)?this._logger.throwInternal(N.WARNING,W.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:a,response:o,dom:n}):(e.durationMs=r,e.perfTotal=e.duration=Pt(r),e.networkConnect=Pt(i),e.sentRequest=Pt(a),e.receivedResponse=Pt(o),e.domProcessing=Pt(n),e.isValid=!0):this._logger.throwInternal(N.WARNING,W.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:a,response:o,dom:n}))},Rn.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Ee().timing:null},Rn.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Ee().getEntriesByType("navigation")[0]:null},Rn.prototype.isPerformanceNavigationTimingSupported=function(){var e=Ee();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},Rn.prototype.isPerformanceTimingSupported=function(){var e=Ee();return e&&e.timing},Rn.prototype.isPerformanceTimingDataReady=function(){var e=Ee();return(e=e?e.timing:0)&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},Rn.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],r=(Pe()||{}).userAgent,i=!1;if(r)for(var a=0;a<n.length;a++)i=i||!!~r.toLowerCase().indexOf(n[a]);if(i)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},Rn);function Rn(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var Vn="duration";function zn(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Fn,He=(p(Gn,Fn=He),Gn.getDefaultConfig=function(e){return(e=e||{}).sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=Nt(e.disableExceptionTracking),e.autoTrackPageVisitTime=Nt(e.autoTrackPageVisitTime),e.overridePageViewDuration=Nt(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=Nt(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isStorageUseDisabled=Nt(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Nt(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=Nt(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=Nt(e.enableDebug),e.disableFlushOnBeforeUnload=Nt(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Nt(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},Gn.Version="2.6.2",Gn);function Gn(){var v,y,T,I,w,S=Fn.call(this)||this;return S.identifier=bn,S.priority=180,S.autoRoutePVDelay=500,q(Gn,S,function(m,h){var e=xe(!0);I=e&&e.href||"",m.getCookieMgr=function(){return(e=m.core)?n=e.getCookieMgr():t&&(n=(t||{}).cookieCfg[et]||ut(t)),n||(r=t,t=(e||{}).logger,(e=ut[et]||st[et])||(e=ut[et]=ut(r,t),st[et]=e),n=e),n;var e,t,n,r},m.processTelemetry=function(a,o){Oe(m.core,function(){return m.identifier+":processTelemetry"},function(){var e=!1,t=m._telemetryInitializers.length;o=m._getTelCtx(o);for(var n=0;n<t;++n){var r=m._telemetryInitializers[n];if(r)try{if(!1===r.call(null,a)){e=!0;break}}catch(i){o.diagLog().throwInternal(N.CRITICAL,W.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+oe(i),{exception:Me(i)},!0)}}e||m.processNext(a,o)},function(){return{item:a}},!a.sync)},m.trackEvent=function(e,t){try{var n=xn.create(e,Ut.dataType,Ut.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(N.WARNING,W.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+oe(r),{exception:Me(r)})}},m.startTrackEvent=function(e){try{v.start(e)}catch(t){m.diagLog().throwInternal(N.CRITICAL,W.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+oe(t),{exception:Me(t)})}},m.stopTrackEvent=function(e,t,n){try{v.stop(e,undefined,t)}catch(r){m.diagLog().throwInternal(N.CRITICAL,W.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+oe(r),{exception:Me(r)})}},m.trackTrace=function(e,t){try{var n=xn.create(e,yn.dataType,yn.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(N.WARNING,W.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+oe(r),{exception:Me(r)})}},m.trackMetric=function(e,t){try{var n=xn.create(e,on.dataType,on.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(N.CRITICAL,W.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+oe(r),{exception:Me(r)})}},m.trackPageView=function(e,t){try{var n=e||{};m._pageViewManager.trackPageView(n,g({},n.properties,n.measurements,t)),m.config.autoTrackPageVisitTime&&m._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(r){m.diagLog().throwInternal(N.CRITICAL,W.TrackPVFailed,"trackPageView failed, page view will not be collected: "+oe(r),{exception:Me(r)})}},m.sendPageViewInternal=function(e,t,n){var r=Ne();r&&(e.refUri=e.refUri===undefined?r.referrer:e.refUri),n=xn.create(e,gn.dataType,gn.envelopeType,m.diagLog(),t,n),m.core.track(n)},m.sendPageViewPerformanceInternal=function(e,t,n){n=xn.create(e,Nn.dataType,Nn.envelopeType,m.diagLog(),t,n),m.core.track(n)},m.trackPageViewPerformance=function(e,t){try{m._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),m.sendPageViewPerformanceInternal(e,t)}catch(n){m.diagLog().throwInternal(N.CRITICAL,W.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+oe(n),{exception:Me(n)})}},m.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=Ne())&&t.title||""),y.start(e)}catch(n){m.diagLog().throwInternal(N.CRITICAL,W.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+oe(n),{exception:Me(n)})}},m.stopTrackPage=function(e,t,n,r){try{var i,a;"string"!=typeof e&&(e=(i=Ne())&&i.title||""),"string"!=typeof t&&(t=(a=xe())&&a.href||""),y.stop(e,t,n,r),m.config.autoTrackPageVisitTime&&m._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(o){m.diagLog().throwInternal(N.CRITICAL,W.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+oe(o),{exception:Me(o)})}},m.sendExceptionInternal=function(e,t,n){e=new Xt(m.diagLog(),e.exception||Error(kt),e.properties,e.measurements,e.severityLevel,e.id).toInterface(),n=xn.create(e,Xt.dataType,Xt.envelopeType,m.diagLog(),t,n),m.core.track(n)},m.trackException=function(e,t){try{m.sendExceptionInternal(e,t)}catch(n){m.diagLog().throwInternal(N.CRITICAL,W.TrackExceptionFailed,"trackException failed, exception will not be collected: "+oe(n),{exception:Me(n)})}},m._onerror=function(e){try{var t,n={url:e&&e.url||(Ne()||{}).URL,lineNumber:e.lineNumber,columnNumber:e.columnNumber,message:e.message},r=e.message;e.url,e.lineNumber,e.columnNumber,e.error||!te(r)||"Script error."!==r&&"Script error"!==r?(ee(e.error)||(t="window.onerror@"+n.url+":"+e.lineNumber+":"+(e.columnNumber||0),e.error=Error(e.message),e.error.stack=t),m.trackException({exception:e.error,severityLevel:Cn.Error},n)):(a={message:"Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",url:i=n.url,lineNumber:0,columnNumber:0,error:undefined},i=xn.create(a,Xt.dataType,Xt.envelopeType,m.diagLog(),{url:i}),m.core.track(i))}catch(o){e=e.error?e.error.name+", "+e.error.message:"null",m.diagLog().throwInternal(N.CRITICAL,W.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+oe(o),{exception:Me(o),errorString:e})}var i,a},m.addTelemetryInitializer=function(e){m._telemetryInitializers.push(e)},m.initialize=function(e,t,n,r){if(!m.isInitialized()){if(K(t))throw Error("Error initializing");h.initialize(e,t,n,r),m.setInitialized(!1);var i=m._getTelCtx(),a=m.identifier;m.config=i.getExtCfg(a),(t=Gn.getDefaultConfig(e))!==undefined&&Y(t,function(e,t){m.config[e]=i.getConfig(a,e,t),m.config[e]===undefined&&(m.config[e]=t)}),m.config.isStorageUseDisabled&&(bt=!1),r={instrumentationKey:function(){return e.instrumentationKey},accountId:function(){return m.config.accountId||e.accountId},sessionRenewalMs:function(){return m.config.sessionRenewalMs||e.sessionRenewalMs},sessionExpirationMs:function(){return m.config.sessionExpirationMs||e.sessionExpirationMs},sampleRate:function(){return m.config.samplingPercentage||e.samplingPercentage},sdkExtension:function(){return m.config.sdkExtension||e.sdkExtension},isBrowserLinkTrackingEnabled:function(){return m.config.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled},appId:function(){return m.config.appId||e.appId}},m._pageViewPerformanceManager=new _n(m.core),m._pageViewManager=new An(S,m.config.overridePageViewDuration,m.core,m._pageViewPerformanceManager),m._pageVisitTimeManager=new Mn(m.diagLog(),function(e,t,n){m.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},t={PageName:e,PageUrl:t})}),m._telemetryInitializers=m._telemetryInitializers||[],r.isBrowserLinkTrackingEnabled()||(p=["/browserLinkSignalR/","/__browserLink/"],m._telemetryInitializers.push(function(e){if(e.baseType===mn.dataType){var t=e.baseData;if(t)for(var n=0;n<p.length;n++)if(t.target&&~t.target.indexOf(p[n]))return!1}return!0})),(v=new On(m.diagLog(),"trackEvent")).action=function(e,t,n,r){(r=r||{})[Vn]=n.toString(),m.trackEvent({name:e,properties:r})},(y=new On(m.diagLog(),"trackPageView")).action=function(e,t,n,r,i){(r=K(r)?{}:r)[Vn]=n.toString(),m.sendPageViewInternal({name:e,uri:t,properties:r,measurements:i},r)};var o,s,l,u,c,f=Ce()?window:Se(ue),t=typeof history===C&&history?history:Se(ge),g=xe(!0),d=S;!1===m.config.disableExceptionTracking&&!m.config.autoExceptionInstrumented&&f&&(o=f.onerror,f.onerror=function(e,t,n,r,i){var a=o&&o(e,t,n,r,i);return!0!==a&&d._onerror({message:e=e&&!te(e)?$(e.toString)?e.toString():JSON.stringify(e):e,url:t,lineNumber:n,columnNumber:r,error:i}),a},m.config.autoExceptionInstrumented=!0),!1===m.config.disableExceptionTracking&&!0===m.config.enableUnhandledPromiseRejectionTracking&&!m.config.autoUnhandledPromiseInstrumented&&f&&(s=f[r="onunhandledrejection"],f[r]=function(e){var t=s&&s.call(f,e);return!0!==t&&d._onerror({message:e.reason.toString(),error:e.reason instanceof Error?e.reason:Error(e.reason.toString()),url:g?g.href:"",lineNumber:0,columnNumber:0}),t},m.config.autoUnhandledPromiseInstrumented=!0),!0===m.config.enableAutoRouteTracking&&t&&$(t.pushState)&&$(t.replaceState)&&f&&"undefined"!=typeof Event&&(l=S,ne(n,function(e){e.identifier===kn&&(T=e)}),t.pushState=(c=t.pushState,function(){var e=c.apply(this,arguments);return zn(f,Ct(l.config.namePrefix+"pushState")),zn(f,Ct(l.config.namePrefix+"locationchange")),e}),t.replaceState=(u=t.replaceState,function(){var e=u.apply(this,arguments);return zn(f,Ct(l.config.namePrefix+"replaceState")),zn(f,Ct(l.config.namePrefix+"locationchange")),e}),f.addEventListener&&(f.addEventListener(l.config.namePrefix+"popstate",function(){zn(f,Ct(l.config.namePrefix+"locationchange"))}),f.addEventListener(l.config.namePrefix+"locationchange",function(){var e;T&&T.context&&T.context.telemetryTrace&&(T.context.telemetryTrace.traceID=function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=It())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&It())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}(),e="_unknown_",g&&g.pathname&&(e=g.pathname+(g.hash||"")),T.context.telemetryTrace.name=e),w&&(I=w),w=g&&g.href||"",setTimeout((function(e){l.trackPageView({refUri:e,properties:{duration:0}})}).bind(S,I),l.autoRoutePVDelay)}))),m.setInitialized(!0)}var p}}),S}var On=function(a,e){var o=this,s={};o.start=function(e){"undefined"!=typeof s[e]&&a.throwInternal(N.WARNING,W.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),s[e]=+new Date},o.stop=function(e,t,n,r){var i=s[e];isNaN(i)?a.throwInternal(N.WARNING,W.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:e,key:e},!0):(i=Gt(i,+new Date),o.action(e,t,i,n,r)),delete s[e],s[e]=undefined}};e.ApplicationInsights=He,function(e,t,n){var r=Object.defineProperty;if(r)try{return r(e,t,n)}catch(i){}typeof n.value!==undefined&&(e[t]=n.value)}(e,"__esModule",{value:!0})};"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{}));
//# sourceMappingURL=applicationinsights-analytics-js.min.js.map
